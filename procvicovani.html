<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Procvičování by plojharsim</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0f0a;
            color: #d0e0d0;
            line-height: 1.8;
            overflow-x: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
        }
        .container {
            width: 100%;
            max-width: 900px;
            background: rgba(20, 28, 20, 0.3);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 3rem;
            border: 1px solid rgba(0, 255, 127, 0.2);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
        }
        .animate-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .cta-button {
            display: inline-block;
            padding: 1rem 2.5rem;
            font-size: 1.2rem;
            font-weight: 600;
            color: #0a0f0a;
            background-color: #00ff7f;
            text-decoration: none;
            border-radius: 50px;
            box-shadow: 0 4px 20px rgba(0, 255, 127, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .cta-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0, 255, 127, 0.6);
        }
        .quiz-option {
            background: rgba(31, 42, 31, 0.4);
            border: 1px solid rgba(0, 255, 127, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .quiz-option:hover {
            transform: translateY(-3px);
            border-color: #00ff7f;
            box-shadow: 0 5px 15px rgba(0, 255, 127, 0.4);
        }
        .quiz-option.correct {
            background-color: #0a4025;
            border-color: #00ff7f;
        }
        .quiz-option.incorrect {
            background-color: #400a0a;
            border-color: #ff0000;
        }
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 255, 127, 0.8);
            color: #0a0f0a;
            padding: 1rem 2rem;
            border-radius: 50px;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            pointer-events: none;
        }
        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(-10px);
        }
        .subject-card {
            background: rgba(10, 15, 10, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(0, 255, 127, 0.2);
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            font-size: 1.25rem;
            font-weight: 600;
            color: #d0e0d0;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .subject-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 255, 127, 0.4);
            background: rgba(10, 15, 10, 0.6);
        }
        .stats-container {
            background: rgba(31, 42, 31, 0.4);
            border: 1px solid rgba(0, 255, 127, 0.2);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 2rem;
            text-align: left;
        }
        .main-heading {
            font-size: 3rem;
            font-weight: 900;
            letter-spacing: -1px;
            background: linear-gradient(90deg, #00ff7f, #00cc66);
            -webkit-background-clip: text;
            color: transparent;
            animation: textGlow 2s ease-in-out infinite alternate;
        }
        @keyframes textGlow {
            0% { text-shadow: 0 0 10px rgba(0, 255, 127, 0.5); }
            100% { text-shadow: 0 0 20px rgba(0, 255, 127, 0.8); }
        }
    </style>
</head>
<body>
    <div id="app" class="container"></div>
    <script>
        const quizData = {
            'Matematika': {
                'Zlomky': [
                    {
                        question: "Kolik je 1/2 + 1/4?",
                        options: ["1/8", "3/4", "1/2", "3/8"],
                        answer: "3/4"
                    },
                    {
                        question: "Jaký je výsledek 5 - 3?",
                        options: ["2", "8", "4", "1"],
                        answer: "2"
                    },
                    {
                        question: "Kolik je 2*2?",
                        options: ["4", "3", "2", "6"],
                        answer: "4"
                    }
                ],
                'Rovnice': [
                    {
                        question: "Vyřeš rovnici: 2x + 5 = 11",
                        options: ["x = 3", "x = 5", "x = 2", "x = 4"],
                        answer: "x = 3"
                    },
                     {
                        question: "Vyřeš rovnici: 3x - 2 = 7",
                        options: ["x = 1", "x = 3", "x = 4", "x = 2"],
                        answer: "x = 3"
                    }
                ]
            },
            'Angličtina': {
                'Lekce 2.1 - Slovíčka': [
                    {
                        question: "Překlad slova 'cat' je:",
                        options: ["pes", "kočka", "králík", "myš"],
                        answer: "kočka"
                    },
                    {
                        question: "Překlad slova 'house' je:",
                        options: ["auto", "dům", "strom", "škola"],
                        answer: "dům"
                    },
                    {
                        question: "Překlad slova 'book' je:",
                        options: ["stůl", "židle", "kniha", "tužka"],
                        answer: "kniha"
                    },
                    {
                        question: "Překlad slova 'apple' je:",
                        options: ["jablko", "hruška", "banán", "pomeranč"],
                        answer: "jablko"
                    }
                ],
                'Lekce 2.2 - Slovíčka': [
                    {
                        question: "Překlad slova 'car' je:",
                        options: ["kolo", "auto", "motorka", "vlak"],
                        answer: "auto"
                    },
                    {
                        question: "Překlad slova 'computer' je:",
                        options: ["telefon", "televize", "počítač", "tablet"],
                        answer: "počítač"
                    },
                    {
                        question: "Překlad slova 'teacher' je:",
                        options: ["student", "žák", "učitel", "ředitel"],
                        answer: "učitel"
                    }
                ]
            },
            'Němčina': {
                'Lekce 1.1 - Základy': [
                    {
                        question: "Překlad slova 'Hund' je:",
                        options: ["pes", "kočka", "pták", "ryba"],
                        answer: "pes"
                    },
                    {
                        question: "Jak se německy řekne 'Ahoj'?",
                        options: ["Hallo", "Tschüss", "Guten Morgen", "Danke"],
                        answer: "Hallo"
                    }
                ]
            },
            'Ostatní': {
                'Historie - 1. světová válka': [
                    {
                        question: "Kdy začala 1. světová válka?",
                        options: ["1914", "1918", "1939", "1945"],
                        answer: "1914"
                    }
                ]
            }
        };
        const filteredQuizData = Object.keys(quizData)
            .filter(key => key !== 'Matematika')
            .reduce((obj, key) => {
                obj[key] = quizData[key];
                return obj;
            }, {});
        filteredQuizData['Angličtina'] = Object.keys(quizData['Angličtina'])
            .filter(key => key.includes('Slovíčka'))
            .reduce((obj, key) => {
                obj[key] = quizData['Angličtina'][key];
                return obj;
            }, {});
        const app = document.getElementById('app');
        let currentSubject = null;
        let currentLesson = null;
        let currentQuizIndex = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let currentQuizCorrect = 0;
        let currentQuizIncorrect = 0;
        const loadStats = () => {
            const stats = localStorage.getItem('quizStats');
            if (stats) {
                const parsedStats = JSON.parse(stats);
                correctAnswers = parsedStats.correct;
                incorrectAnswers = parsedStats.incorrect;
            }
        };
        const saveStats = () => {
            const stats = { correct: correctAnswers, incorrect: incorrectAnswers };
            localStorage.setItem('quizStats', JSON.stringify(stats));
        };
        const showToast = (message) => {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => {
                toast.classList.add('show');
            }, 100);
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 2000);
        };
        const showSubjects = () => {
            app.innerHTML = `
                <div class="animate-fade-in text-center">
                    <h1 class="main-heading mb-8">Procvičování by plojharsim</h1>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        ${Object.keys(filteredQuizData).map(subject => `
                            <div class="subject-card" onclick="showLessons('${subject}')">
                                <h2>${subject}</h2>
                            </div>
                        `).join('')}
                    </div>
                    <div id="stats" class="mt-8 stats-container"></div>
                </div>
            `;
            updateStats();
        };
        const showLessons = (subject) => {
            currentSubject = subject;
            const lessons = filteredQuizData[subject];
            app.innerHTML = `
                <div class="animate-fade-in">
                    <button class="mb-6 cta-button px-4 py-2 text-base" onclick="showSubjects()">Zpět</button>
                    <h1 class="main-heading mb-8">${subject}</h1>
                    <div class="space-y-4">
                        ${Object.keys(lessons).map(lesson => `
                            <div class="p-4 rounded-lg shadow-md bg-gray-800 bg-opacity-50 border border-emerald-400 cursor-pointer hover:bg-opacity-70 transition-all duration-300"
                                onclick="startQuiz('${subject}', '${lesson}')">
                                <h3 class="text-xl font-semibold">${lesson}</h3>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        };
        const startQuiz = (subject, lesson) => {
            currentLesson = lesson;
            currentQuizIndex = 0;
            currentQuizCorrect = 0;
            currentQuizIncorrect = 0;
            renderQuiz();
        };
        const renderQuiz = () => {
            const quiz = filteredQuizData[currentSubject][currentLesson][currentQuizIndex];
            if (!quiz) {
                showQuizResults();
                return;
            }
            app.innerHTML = `
                <div class="animate-fade-in w-full">
                    <h2 class="text-3xl font-semibold mb-6">${currentLesson} - Otázka ${currentQuizIndex + 1}</h2>
                    <p class="text-xl mb-6">${quiz.question}</p>
                    <div id="options-container" class="space-y-4">
                        ${quiz.options.map(option => `
                            <div class="quiz-option" onclick="checkAnswer(this, '${option}')">${option}</div>
                        `).join('')}
                    </div>
                </div>
            `;
        };
        const checkAnswer = (element, selectedOption) => {
            const quiz = filteredQuizData[currentSubject][currentLesson][currentQuizIndex];
            const optionsContainer = document.getElementById('options-container');
            Array.from(optionsContainer.children).forEach(child => {
                child.onclick = null;
            });
            if (selectedOption === quiz.answer) {
                element.classList.add('correct');
                currentQuizCorrect++;
                showToast("Správně! 🎉");
            } else {
                element.classList.add('incorrect');
                const correctElement = Array.from(optionsContainer.children).find(child => child.textContent === quiz.answer);
                if (correctElement) {
                    correctElement.classList.add('correct');
                }
                currentQuizIncorrect++;
                showToast("Špatně. 😥");
            }
            setTimeout(() => {
                currentQuizIndex++;
                renderQuiz();
            }, 1500);
        };
        const showQuizResults = () => {
            const totalQuestions = filteredQuizData[currentSubject][currentLesson].length;
            const percentage = ((currentQuizCorrect / totalQuestions) * 100).toFixed(2);
            correctAnswers += currentQuizCorrect;
            incorrectAnswers += currentQuizIncorrect;
            saveStats();
            app.innerHTML = `
                <div class="animate-fade-in text-center">
                    <h2 class="text-4xl font-bold mb-4 text-green-400">Výsledky kvízu</h2>
                    <p class="text-xl mb-2">Správné odpovědi: <span class="text-green-500">${currentQuizCorrect}</span></p>
                    <p class="text-xl mb-2">Špatné odpovědi: <span class="text-red-500">${currentQuizIncorrect}</span></p>
                    <p class="text-xl mb-6">Úspěšnost: <span class="font-bold">${percentage}%</span></p>
                    <button class="cta-button" onclick="showLessons(currentSubject)">Zpět na lekce</button>
                    <button class="cta-button ml-4" onclick="showSubjects()">Zpět na předměty</button>
                </div>
            `;
        };
        const updateStats = () => {
            const statsElement = document.getElementById('stats');
            if (statsElement) {
                const totalAttempts = correctAnswers + incorrectAnswers;
                const percentage = totalAttempts > 0 ? ((correctAnswers / totalAttempts) * 100).toFixed(2) : 0;
                statsElement.innerHTML = `
                    <h3 class="text-xl font-semibold mb-2 text-green-400">Celkové statistiky</h3>
                    <p>Správné odpovědi: <span class="text-green-500">${correctAnswers}</span></p>
                    <p>Špatné odpovědi: <span class="text-red-500">${incorrectAnswers}</span></p>
                    <p>Úspěšnost: <span class="font-bold">${percentage}%</span></p>
                `;
            }
        };
        window.onload = () => {
            loadStats();
            showSubjects();
        };
    </script>
</body>
</html>
